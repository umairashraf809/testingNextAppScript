/* eslint-disable no-console */
let headerInsertionCount = 0;
let headerTitleTagCount = 0;
let headerMetaTagCount = 0;
let bodyHtmlTopInsertionCount = 0;
let bodyHtmlBottomInsertionCount = 0;
let linksUpdationCount = 0;
const headersUpdationCount = {h1: 0, h2: 0, h3: 0, h4: 0, h5: 0, h6: 0};
let imagesAltsUpdationCount = 0;
let footerHtmlInsertionCount = 0;

const urlParams = new URLSearchParams(window.location.search);
const diagnosticsExist = urlParams.has('diagnostics');

const consolePrint = strData => {
  if (diagnosticsExist) {
    console.log(strData);
  }
};

const fetchData = async (pageUrl, uuid) => {
  let apiUrl = `https://sa.searchatlas.com/api/v2/otto-url-details/?url=${pageUrl}`;
  if (uuid) apiUrl += `&uuid=${uuid}`;

  try {
    const response = await fetch(apiUrl);

    if (!response.ok) throw new Error('API call failed.');
    let pageData = {
      "header_html_insertion": "<meta name=\"google-site-verification\" content=\"Vr-RpLnxfeXuzxR_Xfbnq4BFTY1ezHEinjA8HlCvJiM\">\n<meta name=\"description\" data-otto-pixel=\"searchatlas\" content=\"Boost your website's ranking with expert SEO consultation. Choose tailored link building packages for digital dominance.\">\n<meta name=\"keywords\" data-otto-pixel=\"searchatlas\" content=\"link building, keyword research, backlinks, SEO strategy, organic search strategy, white-hat link building\"/>\n<meta name=\"twitter:title\" data-otto-pixel=\"searchatlas\" content=\"Boost Your Rankings with Quality Link Building Services\"/>\n<meta name=\"twitter:description\" data-otto-pixel=\"searchatlas\" content=\"Quality link building services for better rankings and organic traffic. Choose from our tailored packages or customize your own for top search engine results.\"/>\n<meta name=\"twitter:site\" data-otto-pixel=\"searchatlas\" content=\"https://twitter.com/AndreasPeschel1/status/1777990018646098139\"/>\n<script type=\"application/ld+json\" data-otto-pixel=\"dynamic-seo\">{\n   \"@context\": \"https://schema.org\",\n   \"@type\": \"WebPage\",\n   \"@id\": \"https://linklaboratory.com/#WebPage\",\n   \"headline\": \"Link Building Packages and Guest Post Marketplace | Link Laboratory\\n\",\n   \"url\": \"https://linklaboratory.com/\",\n   \"description\": \"Boost your website's ranking with expert SEO consultation. Choose tailored link building packages for digital dominance.\",\n   \"keywords\": [\n      \"university of virginia\",\n      \"internet of things\",\n      \"technology\",\n      \"research\",\n      \"professor\",\n      \"laboratory\",\n      \"electrical engineering\",\n      \"computer science\",\n      \"link lab\",\n      \"linklab\",\n      \"computer engineering\",\n      \"logistics\",\n      \"innovation\",\n      \"disease\",\n      \"data science\",\n      \"gene\",\n      \"infrastructure\",\n      \"leadership\",\n      \"california institute of technology\",\n      \"patient\",\n      \"environmental engineering\",\n      \"biology\",\n      \"molecular biology\",\n      \"uva\",\n      \"nanotechnology\",\n      \"policy\",\n      \"analytics\",\n      \"genetics\",\n      \"learning\",\n      \"genome\",\n      \"energy\",\n      \"asset\",\n      \"visibility\",\n      \"asset tracking\",\n      \"applied physics laboratory\",\n      \"bluetooth low energy\",\n      \"investment\",\n      \"manufacturing\",\n      \"efficiency\",\n      \"software development\",\n      \"privacy policy\",\n      \"venture capital\",\n      \"faq\",\n      \"sustainability\",\n      \"software engineering\",\n      \"supply chain\",\n      \"physics\",\n      \"data analysis\",\n      \"information technology\",\n      \"maryland\",\n      \"knowledge\",\n      \"sensor\",\n      \"wireless\",\n      \"flagship\",\n      \"software as a service\",\n      \"computer network\",\n      \"cloud computing\",\n      \"user interface\",\n      \"social media\",\n      \"vehicle\",\n      \"customer\",\n      \"organization\",\n      \"automation\",\n      \"telecommunications\",\n      \"information technology companies\",\n      \"global\",\n      \"funding\",\n      \"machine\",\n      \"inventory\",\n      \"wide area network\",\n      \"firmware\",\n      \"mass\",\n      \"brand\",\n      \"backlink\",\n      \"link building\",\n      \"risk\",\n      \"employment\",\n      \"regulation\",\n      \"license\",\n      \"electrician\",\n      \"law\",\n      \"tax\",\n      \"substance abuse\",\n      \"mental health\",\n      \"construction\",\n      \"emergency management\",\n      \"architect\",\n      \"search engine\",\n      \"search engine optimization\",\n      \"disability\",\n      \"audit\",\n      \"revenue\",\n      \"quality link building\",\n      \"seo backlink services\",\n      \"linkbuilding agency\",\n      \"seo backlink agency\",\n      \"backlink seo services\",\n      \"links building agency\",\n      \"seo services backlinks\",\n      \"organism\",\n      \"nursing home\",\n      \"content marketing\",\n      \"secretary of state\",\n      \"plumber\",\n      \"agriculture\",\n      \"historic preservation\",\n      \"accountant\",\n      \"uniform commercial code\",\n      \"safety\",\n      \"engine\",\n      \"credit\",\n      \"nursing\",\n      \"web design\",\n      \"health care\",\n      \"corporation\",\n      \"notary public\",\n      \"recruitment\",\n      \"white hat\",\n      \"psychiatric hospital\",\n      \"accessibility\",\n      \"united states air force\",\n      \"customer experience\",\n      \"developmental disability\",\n      \"welfare\",\n      \"quality of life\",\n      \"property\",\n      \"consumer\",\n      \"fire marshal\",\n      \"green building\",\n      \"president of the united states\",\n      \"flood\",\n      \"alcoholic beverage\",\n      \"law enforcement\",\n      \"company\",\n      \"physician\",\n      \"poverty\",\n      \"wildlife\",\n      \"expense\",\n      \"natural resource\",\n      \"brand awareness\",\n      \"marketing strategy\",\n      \"landscape\",\n      \"inspection\",\n      \"interior design\",\n      \"expert\",\n      \"building\",\n      \"authority\",\n      \"built\",\n      \"backlinks\",\n      \"saas\",\n      \"buildings\",\n      \"mailing address\",\n      \"backlinks agency\",\n      \"criminal law\",\n      \"public health\",\n      \"veteran\",\n      \"algorithm\",\n      \"all rights reserved\",\n      \"executive\"\n   ],\n   \"about\": [\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"university of virginia\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/University_of_Virginia\",\n            \"https://www.wikidata.org/wiki/Q213439\",\n            \"https://www.crunchbase.com/organization/university-of-virginia-investment-management-company\",\n            \"https://www.google.com/search?kgmid=/m/0g8rj\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"internet of things\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Internet_of_things\",\n            \"https://www.wikidata.org/wiki/Q251212\",\n            \"https://www.google.com/search?kgmid=/m/02vnd10\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"technology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Technology\",\n            \"https://www.wikidata.org/wiki/Q11016\",\n            \"https://www.google.com/search?kgmid=/m/07c1v\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"research\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Research\",\n            \"https://www.wikidata.org/wiki/Q42240\",\n            \"https://www.google.com/search?kgmid=/m/06cs1\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"professor\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Professor\",\n            \"https://www.wikidata.org/wiki/Q121594\",\n            \"https://www.google.com/search?kgmid=/m/016fly\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"laboratory\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Laboratory\",\n            \"https://www.wikidata.org/wiki/Q483242\",\n            \"https://www.google.com/search?kgmid=/m/017clw\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"electrical engineering\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Electrical_engineering\",\n            \"https://www.wikidata.org/wiki/Q43035\",\n            \"https://www.google.com/search?kgmid=/m/02lp1\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"computer science\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Computer_science\",\n            \"https://www.wikidata.org/wiki/Q21198\",\n            \"https://www.google.com/search?kgmid=/m/01mkq\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"link lab\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"linklab\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"computer engineering\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Computer_engineering\",\n            \"https://www.wikidata.org/wiki/Q428691\",\n            \"https://www.google.com/search?kgmid=/m/0db86\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"logistics\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Logistics\",\n            \"https://www.wikidata.org/wiki/Q177777\",\n            \"https://www.google.com/search?kgmid=/m/0k9sx\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"innovation\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Innovation\",\n            \"https://www.wikidata.org/wiki/Q174165\",\n            \"https://www.google.com/search?kgmid=/m/0vh9p\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"disease\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Disease\",\n            \"https://www.wikidata.org/wiki/Q12136\",\n            \"https://www.google.com/search?kgmid=/m/027x3\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"data science\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Data_science\",\n            \"https://www.wikidata.org/wiki/Q2374463\",\n            \"https://www.google.com/search?kgmid=/m/0jt3_q3\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"gene\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Gene\",\n            \"https://www.wikidata.org/wiki/Q7187\",\n            \"https://www.google.com/search?kgmid=/m/0bscct\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"infrastructure\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Infrastructure\",\n            \"https://www.wikidata.org/wiki/Q121359\",\n            \"https://www.google.com/search?kgmid=/m/017kvv\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"leadership\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Leadership\",\n            \"https://www.wikidata.org/wiki/Q484275\",\n            \"https://www.google.com/search?kgmid=/m/025rt2s\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"california institute of technology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/California_Institute_of_Technology\",\n            \"https://www.wikidata.org/wiki/Q161562\",\n            \"https://www.crunchbase.com/organization/caltech-0ed3\",\n            \"https://www.google.com/search?kgmid=/m/02sjgpq\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"patient\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Patient\",\n            \"https://www.wikidata.org/wiki/Q181600\",\n            \"https://www.google.com/search?kgmid=/m/028hfb\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"environmental engineering\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Environmental_engineering\",\n            \"https://www.wikidata.org/wiki/Q146326\",\n            \"https://www.google.com/search?kgmid=/m/0dd8y\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"biology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Biology\",\n            \"https://www.wikidata.org/wiki/Q420\",\n            \"https://www.google.com/search?kgmid=/m/01540\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"molecular biology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Molecular_biology\",\n            \"https://www.wikidata.org/wiki/Q7202\",\n            \"https://www.google.com/search?kgmid=/m/04vrt\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"uva\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"nanotechnology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Nanotechnology\",\n            \"https://www.wikidata.org/wiki/Q11468\",\n            \"https://www.google.com/search?kgmid=/m/05d5r\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"policy\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Policy\",\n            \"https://www.wikidata.org/wiki/Q1156854\",\n            \"https://www.google.com/search?kgmid=/m/020xwm\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"analytics\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Analytics\",\n            \"https://www.wikidata.org/wiki/Q485396\",\n            \"https://www.google.com/search?kgmid=/m/02gcn9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"genetics\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Genetics\",\n            \"https://www.wikidata.org/wiki/Q7162\",\n            \"https://www.google.com/search?kgmid=/m/036_2\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"learning\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Learning\",\n            \"https://www.wikidata.org/wiki/Q133500\",\n            \"https://www.google.com/search?kgmid=/m/0191f8\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"genome\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Genome\",\n            \"https://www.wikidata.org/wiki/Q7020\",\n            \"https://www.google.com/search?kgmid=/m/037_b\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"energy\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Energy\",\n            \"https://www.wikidata.org/wiki/Q11379\",\n            \"https://www.google.com/search?kgmid=/m/02mm_\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"asset\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Asset\",\n            \"https://www.wikidata.org/wiki/Q46737\",\n            \"https://www.google.com/search?kgmid=/m/0z1j\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"visibility\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Visibility\",\n            \"https://www.wikidata.org/wiki/Q654068\",\n            \"https://www.google.com/search?kgmid=/m/05xqwk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"asset tracking\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Asset_tracking\",\n            \"https://www.wikidata.org/wiki/Q4808813\",\n            \"https://www.google.com/search?kgmid=/m/064qq_n\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"applied physics laboratory\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Applied_Physics_Laboratory\",\n            \"https://www.wikidata.org/wiki/Q249373\",\n            \"https://www.crunchbase.com/organization/johns-hopkins-applied-physics-lab\",\n            \"https://www.google.com/search?kgmid=/m/07qxqz\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"bluetooth low energy\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Bluetooth_Low_Energy\",\n            \"https://www.wikidata.org/wiki/Q1638779\",\n            \"https://www.google.com/search?kgmid=/m/05my_f_\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"investment\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Investment\",\n            \"https://www.wikidata.org/wiki/Q4290\",\n            \"https://www.google.com/search?kgmid=/m/0g_fl\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"manufacturing\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Manufacturing\",\n            \"https://www.wikidata.org/wiki/Q187939\",\n            \"https://www.google.com/search?kgmid=/m/09t4t\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"efficiency\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Efficiency\",\n            \"https://www.wikidata.org/wiki/Q1034411\",\n            \"https://www.google.com/search?kgmid=/m/0119nfsk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"software development\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Software_development\",\n            \"https://www.wikidata.org/wiki/Q638608\",\n            \"https://www.google.com/search?kgmid=/m/025sbhf\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"privacy policy\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Privacy_policy\",\n            \"https://www.wikidata.org/wiki/Q1999831\",\n            \"https://www.google.com/search?kgmid=/m/04tx6w\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"venture capital\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Venture_capital\",\n            \"https://www.wikidata.org/wiki/Q219409\",\n            \"https://www.google.com/search?kgmid=/m/01m2bt\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"faq\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/FAQ\",\n            \"https://www.wikidata.org/wiki/Q189293\",\n            \"https://www.google.com/search?kgmid=/m/02ygc\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"sustainability\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Sustainability\",\n            \"https://www.wikidata.org/wiki/Q219416\",\n            \"https://www.google.com/search?kgmid=/m/0hkst\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"software engineering\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Software_engineering\",\n            \"https://www.wikidata.org/wiki/Q80993\",\n            \"https://www.google.com/search?kgmid=/m/06q83\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"supply chain\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Supply_chain\",\n            \"https://www.wikidata.org/wiki/Q1824206\",\n            \"https://www.google.com/search?kgmid=/m/019h6j\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"physics\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Physics\",\n            \"https://www.wikidata.org/wiki/Q413\",\n            \"https://www.google.com/search?kgmid=/m/05qjt\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"data analysis\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Data_analysis\",\n            \"https://www.wikidata.org/wiki/Q1988917\",\n            \"https://www.google.com/search?kgmid=/m/07zy4y\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"information technology\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Information_technology\",\n            \"https://www.wikidata.org/wiki/Q11661\",\n            \"https://www.google.com/search?kgmid=/m/03ytc\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"maryland\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Maryland\",\n            \"https://www.wikidata.org/wiki/Q1391\",\n            \"https://www.google.com/search?kgmid=/m/04rrd\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"knowledge\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Knowledge\",\n            \"https://www.wikidata.org/wiki/Q9081\",\n            \"https://www.google.com/search?kgmid=/m/01k8wb\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"sensor\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Sensor\",\n            \"https://www.wikidata.org/wiki/Q167676\",\n            \"https://www.google.com/search?kgmid=/m/01j7cq\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"wireless\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Wireless\",\n            \"https://www.wikidata.org/wiki/Q249\",\n            \"https://www.google.com/search?kgmid=/m/019dhf\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"flagship\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Flagship\",\n            \"https://www.wikidata.org/wiki/Q212357\",\n            \"https://www.google.com/search?kgmid=/m/019tql\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"software as a service\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Software_as_a_service\",\n            \"https://www.wikidata.org/wiki/Q1254596\",\n            \"https://www.google.com/search?kgmid=/m/06_4c_\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"computer network\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Computer_network\",\n            \"https://www.wikidata.org/wiki/Q1301371\",\n            \"https://www.google.com/search?kgmid=/m/025szts\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"cloud computing\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Cloud_computing\",\n            \"https://www.wikidata.org/wiki/Q483639\",\n            \"https://www.google.com/search?kgmid=/m/02y_9m3\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"user interface\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/User_interface\",\n            \"https://www.wikidata.org/wiki/Q47146\",\n            \"https://www.google.com/search?kgmid=/m/0c9lk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"social media\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Social_media\",\n            \"https://www.wikidata.org/wiki/Q202833\",\n            \"https://www.google.com/search?kgmid=/m/0fch0p\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"vehicle\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Vehicle\",\n            \"https://www.wikidata.org/wiki/Q42889\",\n            \"https://www.google.com/search?kgmid=/m/07yv9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"customer\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Customer\",\n            \"https://www.wikidata.org/wiki/Q852835\",\n            \"https://www.google.com/search?kgmid=/m/01j0mk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"organization\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Organization\",\n            \"https://www.wikidata.org/wiki/Q43229\",\n            \"https://www.google.com/search?kgmid=/m/0qb7t\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"automation\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Automation\",\n            \"https://www.wikidata.org/wiki/Q184199\",\n            \"https://www.google.com/search?kgmid=/m/017cmr\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"telecommunications\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Telecommunications\",\n            \"https://www.wikidata.org/wiki/Q418\",\n            \"https://www.google.com/search?kgmid=/m/029g_vk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"information technology companies\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"global\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"funding\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"machine\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Machine\",\n            \"https://www.wikidata.org/wiki/Q11019\",\n            \"https://www.google.com/search?kgmid=/m/0dkw5\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"inventory\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Inventory\",\n            \"https://www.wikidata.org/wiki/Q815410\",\n            \"https://www.google.com/search?kgmid=/m/018y_6\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"wide area network\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Wide_area_network\",\n            \"https://www.wikidata.org/wiki/Q11384\",\n            \"https://www.google.com/search?kgmid=/m/09hrw\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"firmware\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Firmware\",\n            \"https://www.wikidata.org/wiki/Q104851\",\n            \"https://www.google.com/search?kgmid=/m/0b8t7\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"mass\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Mass\",\n            \"https://www.wikidata.org/wiki/Q11423\",\n            \"https://www.google.com/search?kgmid=/m/04t9l\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"brand\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Brand\",\n            \"https://www.wikidata.org/wiki/Q431289\",\n            \"https://www.google.com/search?kgmid=/m/01cd9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"backlink\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Backlink\",\n            \"https://www.wikidata.org/wiki/Q373952\",\n            \"https://www.google.com/search?kgmid=/m/02s3gg\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"link building\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Link_building\",\n            \"https://www.wikidata.org/wiki/Q1569371\",\n            \"https://www.google.com/search?kgmid=/m/0j51l_7\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"risk\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Risk\",\n            \"https://www.wikidata.org/wiki/Q104493\",\n            \"https://www.google.com/search?kgmid=/m/06d5f\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"employment\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Employment\",\n            \"https://www.wikidata.org/wiki/Q656365\",\n            \"https://www.google.com/search?kgmid=/m/01tqrk\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"regulation\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Regulation\",\n            \"https://www.wikidata.org/wiki/Q428148\",\n            \"https://www.google.com/search?kgmid=/m/013zzb\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"license\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/License\",\n            \"https://www.wikidata.org/wiki/Q79719\",\n            \"https://www.google.com/search?kgmid=/m/0b25v\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"electrician\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Electrician\",\n            \"https://www.wikidata.org/wiki/Q165029\",\n            \"https://www.google.com/search?kgmid=/m/01bw9x\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"law\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Law\",\n            \"https://www.wikidata.org/wiki/Q7748\",\n            \"https://www.google.com/search?kgmid=/m/04gb7\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"tax\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Tax\",\n            \"https://www.wikidata.org/wiki/Q8161\",\n            \"https://www.google.com/search?kgmid=/m/07g82\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"substance abuse\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Substance_abuse\",\n            \"https://www.wikidata.org/wiki/Q3184856\",\n            \"https://www.google.com/search?kgmid=/m/0p_cr\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"mental health\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Mental_health\",\n            \"https://www.wikidata.org/wiki/Q317309\",\n            \"https://www.google.com/search?kgmid=/m/03x69g\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"construction\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Construction\",\n            \"https://www.wikidata.org/wiki/Q3875186\",\n            \"https://www.google.com/search?kgmid=/m/01jnzj\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"emergency management\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Emergency_management\",\n            \"https://www.wikidata.org/wiki/Q1460420\",\n            \"https://www.google.com/search?kgmid=/m/052yrz\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"architect\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Architect\",\n            \"https://www.wikidata.org/wiki/Q42973\",\n            \"https://www.google.com/search?kgmid=/m/0mn6\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"search engine\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Search_engine\",\n            \"https://www.wikidata.org/wiki/Q4182287\",\n            \"https://www.google.com/search?kgmid=/m/02wvbrv\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"search engine optimization\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Search_engine_optimization\",\n            \"https://www.wikidata.org/wiki/Q180711\",\n            \"https://www.google.com/search?kgmid=/m/019qb_\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"disability\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Disability\",\n            \"https://www.wikidata.org/wiki/Q12131\",\n            \"https://www.google.com/search?kgmid=/m/0fl5x\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"audit\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Audit\",\n            \"https://www.wikidata.org/wiki/Q181487\",\n            \"https://www.google.com/search?kgmid=/m/01gr0x\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"revenue\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Revenue\",\n            \"https://www.wikidata.org/wiki/Q850210\",\n            \"https://www.google.com/search?kgmid=/m/01kr9k\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"quality link building\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"seo backlink services\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"linkbuilding agency\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"seo backlink agency\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"backlink seo services\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"links building agency\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"seo services backlinks\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"organism\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Organization\",\n            \"https://www.wikidata.org/wiki/Q43229\",\n            \"https://www.google.com/search?kgmid=/m/0qb7t\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"nursing home\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Nursing_home\",\n            \"https://www.wikidata.org/wiki/Q837142\",\n            \"https://www.google.com/search?kgmid=/m/027n7v\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"content marketing\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Content_marketing\",\n            \"https://www.wikidata.org/wiki/Q558685\",\n            \"https://www.google.com/search?kgmid=/m/03qj473\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"secretary of state\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Secretary_of_state_(U.S._state_government)\",\n            \"https://www.wikidata.org/wiki/Q533501\",\n            \"https://www.google.com/search?kgmid=/m/09n5b9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"plumber\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Plumber\",\n            \"https://www.wikidata.org/wiki/Q252924\",\n            \"https://www.google.com/search?kgmid=/m/01jp58\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"agriculture\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Agriculture\",\n            \"https://www.wikidata.org/wiki/Q11451\",\n            \"https://www.google.com/search?kgmid=/m/0hkf\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"historic preservation\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Historic_preservation\",\n            \"https://www.wikidata.org/wiki/Q914856\",\n            \"https://www.google.com/search?kgmid=/m/04jh4h\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"accountant\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Accountant\",\n            \"https://www.wikidata.org/wiki/Q326653\",\n            \"https://www.google.com/search?kgmid=/m/025tmkg\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"uniform commercial code\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Uniform_Commercial_Code\",\n            \"https://www.wikidata.org/wiki/Q906196\",\n            \"https://www.google.com/search?kgmid=/m/019y77\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"safety\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Safety\",\n            \"https://www.wikidata.org/wiki/Q10566551\",\n            \"https://www.google.com/search?kgmid=/m/01lh7h\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"engine\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Engine\",\n            \"https://www.wikidata.org/wiki/Q44167\",\n            \"https://www.google.com/search?kgmid=/m/02mk9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"credit\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Credit\",\n            \"https://www.wikidata.org/wiki/Q182076\",\n            \"https://www.google.com/search?kgmid=/m/05p8s2\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"nursing\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Nursing\",\n            \"https://www.wikidata.org/wiki/Q121176\",\n            \"https://www.google.com/search?kgmid=/m/05fh2\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"web design\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Web_design\",\n            \"https://www.wikidata.org/wiki/Q190637\",\n            \"https://www.crunchbase.com/organization/webdesign\",\n            \"https://www.google.com/search?kgmid=/m/086df\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"health care\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Health_care\",\n            \"https://www.wikidata.org/wiki/Q31207\",\n            \"https://www.google.com/search?kgmid=/m/01mw2x\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"corporation\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Corporation\",\n            \"https://www.wikidata.org/wiki/Q167037\",\n            \"https://www.google.com/search?kgmid=/m/023k2\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"notary public\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Notary_public\",\n            \"https://www.wikidata.org/wiki/Q15479268\",\n            \"https://www.google.com/search?kgmid=/m/05d3v\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"recruitment\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Recruitment\",\n            \"https://www.wikidata.org/wiki/Q899277\",\n            \"https://www.google.com/search?kgmid=/m/03nw7w\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"white hat\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/White_hat_(computer_security)\",\n            \"https://www.wikidata.org/wiki/Q18922761\",\n            \"https://www.google.com/search?kgmid=/m/03ns_5\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"psychiatric hospital\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Psychiatric_hospital\",\n            \"https://www.wikidata.org/wiki/Q210999\",\n            \"https://www.google.com/search?kgmid=/m/09np_\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"accessibility\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Accessibility\",\n            \"https://www.wikidata.org/wiki/Q555097\",\n            \"https://www.google.com/search?kgmid=/m/01s0gn\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"united states air force\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/United_States_Air_Force\",\n            \"https://www.wikidata.org/wiki/Q11223\",\n            \"https://www.crunchbase.com/organization/us-air-force\",\n            \"https://www.google.com/search?kgmid=/m/02rjqfl\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"customer experience\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Customer_experience\",\n            \"https://www.wikidata.org/wiki/Q984142\",\n            \"https://www.google.com/search?kgmid=/m/04cx_k7\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"developmental disability\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Developmental_disability\",\n            \"https://www.wikidata.org/wiki/Q1142806\",\n            \"https://www.google.com/search?kgmid=/m/06xd3t\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"welfare\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Welfare\",\n            \"https://www.wikidata.org/wiki/Q12002092\",\n            \"https://www.google.com/search?kgmid=/m/0968r1\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"quality of life\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Quality_of_life\",\n            \"https://www.wikidata.org/wiki/Q13100823\",\n            \"https://www.google.com/search?kgmid=/m/0cvgr\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"property\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Property\",\n            \"https://www.wikidata.org/wiki/Q1400881\",\n            \"https://www.google.com/search?kgmid=/m/05wrt\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"consumer\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Consumer\",\n            \"https://www.wikidata.org/wiki/Q22855\",\n            \"https://www.google.com/search?kgmid=/m/025_b\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"fire marshal\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Fire_marshal\",\n            \"https://www.wikidata.org/wiki/Q898372\",\n            \"https://www.google.com/search?kgmid=/m/028l_x\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"green building\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Green_building\",\n            \"https://www.wikidata.org/wiki/Q242606\",\n            \"https://www.google.com/search?kgmid=/m/04vct9\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"president of the united states\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/President_of_the_United_States\",\n            \"https://www.wikidata.org/wiki/Q11696\",\n            \"https://www.google.com/search?kgmid=/m/060d2\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"flood\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Flood\",\n            \"https://www.wikidata.org/wiki/Q8068\",\n            \"https://www.google.com/search?kgmid=/m/0dbtv\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"alcoholic beverage\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Alcoholic_beverage\",\n            \"https://www.wikidata.org/wiki/Q154\",\n            \"https://www.google.com/search?kgmid=/m/012mj\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"law enforcement\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Law_enforcement\",\n            \"https://www.wikidata.org/wiki/Q44554\",\n            \"https://www.google.com/search?kgmid=/m/0gty6zf\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"company\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Company\",\n            \"https://www.wikidata.org/wiki/Q783794\",\n            \"https://www.google.com/search?kgmid=/m/03bxgrp\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"physician\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Physician\",\n            \"https://www.wikidata.org/wiki/Q39631\",\n            \"https://www.google.com/search?kgmid=/m/05t4q\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"poverty\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Poverty\",\n            \"https://www.wikidata.org/wiki/Q10294\",\n            \"https://www.google.com/search?kgmid=/m/0h948\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"wildlife\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Wildlife\",\n            \"https://www.wikidata.org/wiki/Q241741\",\n            \"https://www.google.com/search?kgmid=/m/01280g\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"expense\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Expense\",\n            \"https://www.wikidata.org/wiki/Q13516686\",\n            \"https://www.google.com/search?kgmid=/m/01n9ps\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"natural resource\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Natural_resource\",\n            \"https://www.wikidata.org/wiki/Q188460\",\n            \"https://www.google.com/search?kgmid=/m/05fsp\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"brand awareness\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Brand_awareness\",\n            \"https://www.wikidata.org/wiki/Q1900597\",\n            \"https://www.google.com/search?kgmid=/m/047glg4\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"marketing strategy\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Marketing_strategy\",\n            \"https://www.wikidata.org/wiki/Q1363963\",\n            \"https://www.google.com/search?kgmid=/m/01wg0g\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"landscape\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Landscape\",\n            \"https://www.wikidata.org/wiki/Q107425\",\n            \"https://www.google.com/search?kgmid=/m/025s3q0\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"inspection\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Inspection\",\n            \"https://www.wikidata.org/wiki/Q1137655\",\n            \"https://www.google.com/search?kgmid=/m/02d1z8\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"interior design\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Interior_design\",\n            \"https://www.wikidata.org/wiki/Q179232\",\n            \"https://www.crunchbase.com/organization/interior-design-partnership\",\n            \"https://www.google.com/search?kgmid=/m/02rfdq\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"expert\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Expert\",\n            \"https://www.wikidata.org/wiki/Q381160\",\n            \"https://www.google.com/search?kgmid=/m/02pkl\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"building\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"authority\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"built\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"backlinks\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"saas\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"buildings\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"mailing address\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"backlinks agency\",\n         \"description\": \"\",\n         \"sameAs\": []\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"criminal law\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Criminal_law\",\n            \"https://www.wikidata.org/wiki/Q146491\",\n            \"https://www.google.com/search?kgmid=/m/01n5w\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"public health\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Public_health\",\n            \"https://www.wikidata.org/wiki/Q189603\",\n            \"https://www.google.com/search?kgmid=/m/02cm61\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"veteran\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Veteran\",\n            \"https://www.wikidata.org/wiki/Q193891\",\n            \"https://www.google.com/search?kgmid=/m/01wcxw\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"algorithm\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Algorithm\",\n            \"https://www.wikidata.org/wiki/Q8366\",\n            \"https://www.google.com/search?kgmid=/m/0jpv\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"all rights reserved\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/All_rights_reserved\",\n            \"https://www.wikidata.org/wiki/Q1752207\",\n            \"https://www.google.com/search?kgmid=/m/02_t90\"\n         ]\n      },\n      {\n         \"@type\": \"Thing\",\n         \"name\": \"executive\",\n         \"description\": \"\",\n         \"sameAs\": [\n            \"http://en.wikipedia.org/wiki/Executive_(government)\",\n            \"https://www.wikidata.org/wiki/Q35798\",\n            \"https://www.google.com/search?kgmid=/m/02sdd\"\n         ]\n      }\n   ]\n}</script>\n\n<script type=\"application/ld+json\" data-otto-pixel=\"dynamic-seo\">{\n   \"url\": \"https://linklaboratory.com\",\n   \"logo\": \"https://storage.googleapis.com/content-assistant-images-persistent/49f82e9f-ff7d-4a41-a393-7d39001e667b.webp\",\n   \"name\": \"iphone shop\",\n   \"@type\": \"Organization\",\n   \"email\": \"leowong@linkgraph.com\",\n   \"image\": \"https://storage.googleapis.com/content-assistant-images-persistent/da6b5b3d-bd36-4b74-a989-77a0e7981824.webp\",\n   \"sameAs\": [\n      \"https://twitter.com/AndreasPeschel1/status/1777990018646098139\",\n      \"https://www.linkedin.com/company/linklab-com-\",\n      \"https://en.wikipedia.org/wiki/Dynamic-link_library\"\n   ],\n   \"@context\": \"https://schema.org\",\n   \"telephone\": \"+98 787 898 98977\",\n   \"description\": \"hey, this is my TEST phone shop.\"\n}</script>\n",
      "header_replacements": [
          {
              "type": "title",
              "current_value": "Link Building SEO Campaigns – Guest Posting - Link Laboratory",
              "recommended_value": "Link Building Packages and Guest Post Marketplace | Link Laboratory\n"
          },
          {
              "type": "meta",
              "property": "og:title",
              "current_value": "Link Building SEO Campaigns – Guest Posting - Link Laboratory",
              "recommended_value": "Accelerate Your SEO: Expert Link Building Solutions"
          }
      ],
      "body_substitutions": {
          "images": {
              "https://linklaboratory.com/wp-content/uploads/2020/09/werr.jpg": "werr",
              "https://linklaboratory.com/wp-content/uploads/2020/09/logo-1.svg": "logo 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/qweqwe.jpg": "qweqwe",
              "https://linklaboratory.com/wp-content/uploads/2020/09/Graph-Icon.png": "graph icon",
              "https://linklaboratory.com/wp-content/uploads/2020/09/Ellipse-6-1.png": "ellipse 6 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/Trophy-Icon.png": "trophy icon",
              "https://linklaboratory.com/wp-content/uploads/2020/09/Calendar-Icon.png": "calendar icon",
              "https://linklaboratory.com/wp-content/uploads/2020/09/wsj-social-share-1.svg": "wsj social share 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/1280px-Wired_logo-1.svg": "1280px wired logo 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/SUSig_Black_Stack-1.svg": "susig black stack 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/1200px-Adweek_logo-1.svg": "1200px adweek logo 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/Untitled_Artwork-10-1-1.png": "untitled artwork 10 1 1",
              "https://linklaboratory.com/wp-content/uploads/2020/09/mashable-logo-e1486259514654-1.svg": "mashable logo e1486259514654 1",
              "data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E": "Link Building Powered by Data Scientists"
          }
      },
      "body_top_html_insertion": "",
      "body_bottom_html_insertion": "<p style=\"display:none\" data-otto-pixel=\"dynamic-seo\" class=\"otto-nlp-module\">university of virginia, internet of things, technology, research, professor, laboratory, electrical engineering, computer science, link lab, linklab, computer engineering, logistics, innovation, disease, data science, gene, infrastructure, leadership, california institute of technology, patient, environmental engineering, biology, molecular biology, uva, nanotechnology, policy, analytics, genetics, learning, genome, energy, asset, visibility, asset tracking, applied physics laboratory, bluetooth low energy, investment, manufacturing, efficiency, software development, privacy policy, venture capital, faq, sustainability, software engineering, supply chain, physics, data analysis, information technology, maryland, knowledge, sensor, wireless, flagship, software as a service, computer network, cloud computing, user interface, social media, vehicle, customer, organization, automation, telecommunications, information technology companies, global, funding, machine, inventory, wide area network, firmware, mass, brand, backlink, link building, risk, employment, regulation, license, electrician, law, tax, substance abuse, mental health, construction, emergency management, architect, search engine, search engine optimization, disability, audit, revenue, quality link building, seo backlink services, linkbuilding agency, seo backlink agency, backlink seo services, links building agency, seo services backlinks, organism, nursing home, content marketing, secretary of state, plumber, agriculture, historic preservation, accountant, uniform commercial code, safety, engine, credit, nursing, web design, health care, corporation, notary public, recruitment, white hat, psychiatric hospital, accessibility, united states air force, customer experience, developmental disability, welfare, quality of life, property, consumer, fire marshal, green building, president of the united states, flood, alcoholic beverage, law enforcement, company, physician, poverty, wildlife, expense, natural resource, brand awareness, marketing strategy, landscape, inspection, interior design, expert, building, authority, built, backlinks, saas, buildings, mailing address, backlinks agency, criminal law, public health, veteran, algorithm, all rights reserved, executive</p>\n\n<p style=\"display:none\" data-otto-pixel=\"dynamic-seo\" class=\"otto-missing-keywords-module\">link laboratory, link laboratories, link lab, link building agency nyc, link building services ny, links lab, link building agency, link building services, linkgraph login</p>\n<div style=\"display:none\" data-otto-pixel=\"dynamic-seo\" class=\"otto-missing-headings-module\"><h3 data-otto-pixel=\"dynamic-seo\">Our Unique Approach to Link Building</h3>\n\n\n<p data-otto-pixel=\"dynamic-seo\">At our company, we pride ourselves on our data-driven approach to link building. Our team of experienced data scientists analyze a variety of factors to determine the most effective strategies for building quality links that will improve your website's search engine ranking. By utilizing data and analytics, we are able to provide our clients with a strategic and tailored approach to link building that sets us apart from traditional methods.</p>\n\n\n<h4 data-otto-pixel=\"dynamic-seo\">The Benefits of Data-Driven Link Building</h4>\n\n\n<p data-otto-pixel=\"dynamic-seo\">When you choose our data-driven link building services, you can rest assured that you are receiving the most effective and efficient strategies for improving your website's search engine ranking. By utilizing data and analytics, we are able to identify the most valuable linking opportunities for your website, ensuring that each link we build is strategically placed for maximum impact. Our unique approach to link building allows us to provide our clients with measurable results and a clear understanding of the value of each link we create.</p></div>\n\n",
      "image_missing_alt": {},
      "footer_html_insertion": "<a style=\"display:none\" class=\"otto-dynamic-indexing-module\" data-otto-pixel=\"dynamic-seo\" href=\"https://linklaboratory.com/\"></a>"
  }
  // pageData = await response.json();
    consolePrint(`API response: ${pageData}`);
    console.log({pageUrl}, window.location.origin + window.location.pathname);
    if ((window.location.origin + window.location.pathname) === pageUrl) applyPageData(pageData);
  } catch (error) {
    console.error('Fetch error:', error);
  }
};

const postPageCrawlLogs = async (pageUrl, uuid, context) => {
  try {
    const useragent = navigator.userAgent;
    if (useragent.includes('bot')) {
      const apiUrl = `https://sa.searchatlas.com/api/v2/otto-page-crawl-logs/`;

      const bodyData = {
        otto_uuid: uuid,
        url: pageUrl,
        user_agent: useragent,
        context: context,
      };

      const response = await fetch(apiUrl, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(bodyData),
      });

      if (!response.ok) throw new Error('API call failed.');
      const pageData = await response.json();
      consolePrint(`API response: ${pageData}`);
    }
  } catch (error) {
    consolePrint(`Fetch error: ${error}`);
  }
};

const replaceMetaData = metaData => {
  let headerElementExist = false;
  const {type, name, property, recommended_value} = metaData;

  if (type === 'title') {
    const titles = document.querySelectorAll('title');
    if (titles?.length) {
      titles?.forEach(item => {
        if (!window?.next) item.remove();
      });
    }
    headerElementExist = false;
  } else {
    const metaSelector = `meta[name="${(name || property)?.trim()}"], meta[property="${(name || property)?.trim()}"]`;
    headerElementExist = document.querySelector(metaSelector) || false;
  }

  if (headerElementExist) {
    consolePrint(`Header Meta - ${headerElementExist}`);
    if (type === 'title') {
      headerTitleTagCount++;
      consolePrint(`Replacing existing title content - ${recommended_value}`);
      headerElementExist.innerHTML = recommended_value;
    } else {
      consolePrint(`Replacing existing Meta content - ${recommended_value}`);
      headerMetaTagCount++;
      headerElementExist.setAttribute('content', recommended_value);
    }
  } else {
    if (type === 'title') {
      consolePrint(`Header Title Not Found - ${type}`);
      headerTitleTagCount++;
      if (window?.next) {
        const title = document.querySelector('title');
        title.innerHTML = recommended_value;
      } else {
        const titleTag = `<title>${recommended_value}</title>`;
        consolePrint(`Inserting Title tag element: ${titleTag}`);
        document.head.insertAdjacentHTML('afterbegin', titleTag);
      }
    } else {
      consolePrint(`Header Meta Not Found - ${type}`);
      const metaAttribute = property ? 'property' : 'name';
      const metaTag = `<meta ${metaAttribute}="${property ? property : name}" content="${recommended_value}">`;
      headerMetaTagCount++;
      consolePrint(`Inserting tag element: ${metaTag}`);
      document.head.insertAdjacentHTML('afterbegin', metaTag);
    }
  }
};

const addAltTextToImages = images => {
  const allImgsElements = document.querySelectorAll(`img`);
  allImgsElements?.forEach(imgElement => {
    images?.forEach(([imageUrl, altText]) => {
      Array.from(imgElement?.attributes).forEach(attribute => {
        if (attribute.value === imageUrl) {
          imagesAltsUpdationCount++;
          consolePrint(`Adding/updating alt text for ${imgElement} with: ${altText}`);
          imgElement.alt = altText;
        }
      });
    });
  });
  consolePrint(`Total alt texts updated: ${imagesAltsUpdationCount}`);
};

const htmlDecode = input => {
  const doc = new DOMParser().parseFromString(input, 'text/html');
  return doc.documentElement.textContent;
};

const applyPageData = pageData => {
  consolePrint(`Header HTML insertion started: ${pageData.header_html_insertion}`);
  const htmlToInject = pageData.header_html_insertion ? `<!-- Dynamic Optimization Header Integration Start --> ${pageData.header_html_insertion} <!-- Dynamic Optimization Header Integration Ended --> ` : '';
  if (htmlToInject) {
    document.head.insertAdjacentHTML('afterbegin', htmlToInject);
    headerInsertionCount++;
  }
  consolePrint(`Header HTML insertion ended: ${htmlToInject}`);

  try {
    consolePrint(`Header replacements started: ${pageData.header_replacements}`);
    if (Array.isArray(pageData.header_replacements)) {
      pageData.header_replacements?.forEach(data => {
        replaceMetaData(data);
      });
    }
    consolePrint(`Header replacements ended: ${pageData.header_replacements}`);
  } catch (error) {
    consolePrint(`Header replacements Error: ${error}`);
  }

  const bodyElement = document.querySelector('body');

  consolePrint(`Body top HTML insertion started: ${pageData.body_top_html_insertion}`);
  const topHtmlToInject = pageData.body_top_html_insertion ? `<!-- Dynamic Optimization Body Top Integration Start --> ${pageData.body_top_html_insertion} <!-- Dynamic Optimization Body Top Integration Ended --> ` : '';
  if (topHtmlToInject) {
    bodyHtmlTopInsertionCount++;
    bodyElement.insertAdjacentHTML('afterbegin', topHtmlToInject);
  }
  consolePrint(`Body top HTML insertion ended: ${topHtmlToInject}`);

  consolePrint(`Body bottom HTML insertion started: ${pageData.body_bottom_html_insertion}`);
  const bottomHtmlToInject = pageData.body_bottom_html_insertion ? `<!-- Dynamic Optimization Body Bottom Integration Start --> ${pageData.body_bottom_html_insertion} <!-- Dynamic Optimization Body Bottom Integration Ended --> ` : '';
  if (bottomHtmlToInject) {
    bodyHtmlBottomInsertionCount++;
    bodyElement.insertAdjacentHTML('beforeend', bottomHtmlToInject);
  }
  consolePrint(`Body bottom HTML insertion ended: ${bottomHtmlToInject}`);

  consolePrint('Body substitutions started');
  for (const [bodySubstitutionsKey, data] of Object.entries(pageData.body_substitutions)) {
    if (bodySubstitutionsKey !== 'images') {
      consolePrint(`${bodySubstitutionsKey} - updating element value: ${data}`);
      if (bodySubstitutionsKey === 'links') {
        const listData = Object.entries(data);
        if (listData.length) {
          document.querySelectorAll(`a[href="${listData[0][0]}"]`)?.forEach(element => {
            linksUpdationCount++;
            element.href = listData[0][1];
          });
        }
      } else if (bodySubstitutionsKey === 'headings') {
        data?.forEach(item => {
          document.querySelectorAll(item.type)?.forEach(element => {
            if (element.textContent.trim() === item.current_value.trim()) {
              consolePrint(`${item.type} - heading - ${element.textContent} - Recommended heading - ${item.recommended_value}`);
              headersUpdationCount[item.type]++;
              const targetElement = element?.lastChild?.nodeType === Node.ELEMENT_NODE ? element.lastChild : element;
              targetElement.innerHTML = htmlDecode(element.innerHTML).replace(item.current_value, item.recommended_value);
            }
          });
        });
      }
    }
  }
  consolePrint('Body substitutions ended');

  if (pageData.header_replacements?.length > 0) {
    const canonicalLink = pageData.header_replacements.find(item=> item?.type == 'link' && item?.rel == 'canonical');
    const element = document.querySelector(`link[rel="canonical"]`);
    if (canonicalLink && element) {
      element.href = canonicalLink?.recommended_value;
    }
  }

  consolePrint('Intersection of missing alt tags started');
  pageData?.body_substitutions?.images && addAltTextToImages(Object.entries(pageData?.body_substitutions?.images));
  consolePrint('Intersection of missing alt tags ended');

  consolePrint(`Footer HTML insertion started: ${pageData.footer_html_insertion}`);
  if (pageData.footer_html_insertion) {
    let footerElement = document.querySelector('footer');
    if (!footerElement) {
      consolePrint('Footer element not found');
      footerElement = document.createElement('footer');
      document.body.appendChild(footerElement);
      consolePrint('Footer element added to footer');
    }

    const footerHtmlToInject = pageData.footer_html_insertion ? `<!-- Dynamic Optimization Footer Integration Start --> ${pageData.footer_html_insertion} <!-- Dynamic Optimization Footer Integration Ended --> ` : '';
    footerHtmlInsertionCount++;
    footerElement.insertAdjacentHTML('beforeend', footerHtmlToInject);
    consolePrint(`Footer HTML inserted: ${footerHtmlToInject}`);
  }
  consolePrint(`Footer HTML insertion ended: ${pageData.footer_html_insertion}`);

  consolePrint('*************************************************************');
  consolePrint('******************** Diagnostics Summary ********************');
  consolePrint(`Header Insertions: ${headerInsertionCount}`);
  consolePrint(`Header Title Updated: ${headerTitleTagCount}`);
  consolePrint(`Body Top HTML Insertions: ${bodyHtmlTopInsertionCount}`);
  consolePrint(`Body Bottom HTML Insertions: ${bodyHtmlBottomInsertionCount}`);
  consolePrint(`Footer HTML Insertions: ${footerHtmlInsertionCount}`);

  consolePrint(`Header Meta Tag Updated: ${headerMetaTagCount} out of ${Array.isArray(pageData.header_replacements) ? pageData.header_replacements?.filter(item => item.type != 'title')?.length : 0}`);
  consolePrint(`Image Alt Replacements: ${imagesAltsUpdationCount} out of ${('images' in pageData.body_substitutions) ? Object.keys(pageData.body_substitutions?.images)?.length : 0}`);
  consolePrint(`Link Replacements: ${linksUpdationCount} out of ${('links' in pageData.body_substitutions) ? Object.keys(pageData.body_substitutions?.links)?.length : 0}`);
  Object.entries(headersUpdationCount).forEach(value => {
    consolePrint(`${value[0]} headings replaced - ${value[1]}`);
  });
  consolePrint('*************************************************************');
  consolePrint('*************************************************************');
};

// Function to remove content between specific comments
const removeDynamicOptimizationContent = () => {
//   removelist = [
//     'Header',
//     'Footer',
//     'Body Top',
//     'Body Bottom',
//   ]

  // todo: google-site-verification is not being removed, add data-otto-pixel from be
  const elementsToRemove = document.querySelectorAll('[data-otto-pixel="dynamic-seo"],[data-otto-pixel="searchatlas"]');
  if (elementsToRemove.length > 0) {
    try {
        elementsToRemove.forEach(element => element.remove());
    } catch (error) {
        console.error(error);
    }
  }

//   removelist.forEach(item => {
    
//     let htmlContent = null
//     // Get all the HTML content as a string
//     if(item == 'Header'){
//       htmlContent = document.head.innerHTML;  
//     } else{
//       htmlContent = document.body.innerHTML;
//     }

//     // Define the start and end markers
//     const startMarker = `<!-- Dynamic Optimization ${item} Integration Start -->`;
//     const endMarker = `<!-- Dynamic Optimization ${item} Integration Ended -->`;

//     // Check if the markers exist
//     if (htmlContent?.includes(startMarker) && htmlContent?.includes(endMarker)) {
//       // Extract content before and after the markers
//       const beforeStart = htmlContent?.split(startMarker)[0];
//       const afterEnd = htmlContent?.split(endMarker)[1];

//       // Combine the remaining content
//       const updatedContent = beforeStart + afterEnd;

//       // Update the HTML content in the body
//       if(item == 'Header'){
//         document.head.innerHTML = updatedContent;
//       }else{
//         document.body.innerHTML = updatedContent;
//       }

//       consolePrint('Dynamic Optimization content removed.');
//     } else {
//       consolePrint('Markers not found.');
//     }
//   });
}

const initializeScript = () => {
  consolePrint('Script initialization');
  const uuid = document.getElementById('sa-otto')?.getAttribute('data-uuid') || document.getElementById('searchatlas')?.getAttribute('data-uuid') || document.getElementById('sa-dynamic-optimization')?.getAttribute('data-uuid');
  window.otto_js_installed = true;
  window.otto_js_uuid = uuid;
  consolePrint(`UUID: ${uuid}`);
  try {
    const pushState = history.pushState;
    history.pushState = function() {
      // eslint-disable-next-line prefer-rest-params
      pushState.apply(history, arguments);
      window.dispatchEvent(new Event('locationchange'));
    };
    window.addEventListener('locationchange', () => {
      removeDynamicOptimizationContent();
      fetchData(window.location.origin + window.location.pathname, uuid);
      postPageCrawlLogs(window.location.href, uuid, null);
    });
  } catch (error) {
    consolePrint(`Routing issue: ${error}`);
  }
  
  fetchData(window.location.origin + window.location.pathname, uuid);
  postPageCrawlLogs(window.location.href, uuid, null);
  consolePrint('Script ended');
};

initializeScript();